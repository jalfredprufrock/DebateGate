<!DOCTYPE HTML>

<html>

<head>
	<title>Debate Gate</title>
	<meta charset="utf-8">
	<link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
	<script type="text/javascript"></script>
	<script type="text/javascript" src="https://code.jquery.com/jquery-1.9.1.min.js"></script>
</head>

<body>

	<h1>Debate Gate</h1>
	<h3>How do debates impact the polls and the election?</h3>
<hr>
	<a class="links" href="/">Candidate Performance</a><br>
	<a class="links" href="/demographics">Demographics Outlook</a><br>
	<a class="links" href="/state">State Outlook</a><br>
	<a class="links" href="/history">Historical Standings and Outcomes by Party</a><br>
	<a class="links" href="/electoral">Electoral Votes Ranges</a><br>
	<a class="links" href="/dates">Date/Event Impact</a><br>
<hr>
	<p class='title'>State Outlook</p>

	<p class='desc'>See the polling data for a state at different time frames throughout the duration of the debates</p>

	<h3>Fill out the form to retrieve results</h3>
	
	<div>

	<form action="/state" method="POST">

		<label>State</label>
		<select name="state">
			<option value="Alabama">Alabama</option>
			<option value="Alaska">Alaska</option>
			<option value="Arizona">Arizona</option>
			<option value="Arkansas">Arkansas</option>
			<option value="California">California</option>
			<option value="Colorado">Colorado</option>
			<option value="Connecticut">Connecticut</option>
			<option value="Delaware">Delaware</option>
			<option value="Florida">Florida</option>
			<option value="Georgia">Georgia</option>
			<option value="Hawaii">Hawaii</option>
			<option value="Idaho">Idaho</option>
			<option value="Illinois">Illinois</option>
			<option value="Indiana">Indiana</option>
			<option value="Iowa">Iowa</option>
			<option value="Kansas">Kansas</option>
			<option value="Kentucky">Kentucky</option>
			<option value="Louisiana">Louisiana</option>
			<option value="Maine">Maine</option>
			<option value="Maryland">Maryland</option>
			<option value="Massachusetts">Massachusetts</option>
			<option value="Michigan">Michigan</option>
			<option value="Minnesota">Minnesota</option>
			<option value="Mississippi">Mississippi</option>
			<option value="Missouri">Missouri</option>
			<option value="Montana">Montana</option>
			<option value="Nebraska">Nebraska</option>
			<option value="Nevada">Nevada</option>
			<option value="New Hampshire">New Hampshire</option>
			<option value="New Jersey">New Jersey</option>
			<option value="New Mexico">New Mexico</option>
			<option value="New York">New York</option>
			<option value="North Carolina">North Carolina</option>
			<option value="North Dakota">North Dakota</option>
			<option value="Ohio">Ohio</option>
			<option value="Oklahoma">Oklahoma</option>
			<option value="Oregon">Oregon</option>
			<option value="Pennsylvania">Pennsylvania</option>
			<option value="Rhode Island">Rhode Island</option>
			<option value="South Carolina">South  Carolina</option>
			<option value="South Dakota">South Dakota</option>
			<option value="Tennessee">Tennessee</option>
			<option value="Texas">Texas</option>
			<option value="Utah">Utah</option>
			<option value="Vermont">Vermont</option>
			<option value="Virginia">Virginia</option>
			<option value="Washington">Washington</option>
			<option value="West Virginia">West Virginia</option>
			<option value="Wisconsin">Wisconsin</option>
			<option value="Wyoming">Wyoming</option>
		</select>
		
		<button class='button button2' type="submit" id="submit" name="user_submit">Submit</button>

	</form>

	</div>

	{% if method == 'post' %}
    	{% if data|length == 0 %}
    		<p>No results returned for this query</p>
  		{% else %}
    		<table cellspacing="0">
				<tr>
					<th>Time</th>
					<th>State</th> 
					<th>Clinton</th>
					<th>Trump</th>
					<th>Undecided</th>
				</tr>

				{% for row in data %}
					{% if row[0] == 0 %}
						<tr>
							<td>Before First Debate</td>
							<td>{{ row[3] }}</td>
							<td>{{ row[1] }}</td>
							<td>{{ row[2] }}</td>
							<td>{{ row[5] }}</td>  
						</tr>
					{% elif row[0] == 1 %}
						<tr>
							<td>After First Debate</td>
							<td>{{ row[3] }}</td>
							<td>{{ row[1] }}</td>
							<td>{{ row[2] }}</td>
							<td>{{ row[5] }}</td>  
						</tr>
					{% elif row[0] == 2 %}
						<tr>
							<td>After Second Debate</td>
							<td>{{ row[3] }}</td>
							<td>{{ row[1] }}</td>
							<td>{{ row[2] }}</td>
							<td>{{ row[5] }}</td>  
						</tr>

					{% elif row[0] == 3 %}
						<tr>
							<td>After Third Debate</td>
							<td>{{ row[3] }}</td>
							<td>{{ row[1] }}</td>
							<td>{{ row[2] }}</td>
							<td>{{ row[5] }}</td>  
						</tr>

					{% endif %}
				{% endfor %}
		
			</table>
  		{% endif %}
  	{% endif %}

	<p>CS336 Final Project - Asad Dar and George Chronis</p>

</body>

</html>